<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üç∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–æ–±—ñ–≤–∞—Ä—Ç–æ—Å—Ç—ñ –≤–∏–ø—ñ—á–∫–∏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Nunito:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-cookie-bite"></i>
                <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–æ–±—ñ–≤–∞—Ä—Ç–æ—Å—Ç—ñ –≤–∏–ø—ñ—á–∫–∏</h1>
            </div>
            <div class="header-info">
                <div class="currency-info">
                    <i class="fas fa-hryvnia"></i>
                    <span>–í–∞–ª—é—Ç–∞: –ì—Ä–∏–≤–Ω—è (–≥—Ä–Ω)</span>
                </div>
                <button class="btn-help" onclick="showHelp()">
                    <i class="fas fa-question-circle"></i> –î–æ–ø–æ–º–æ–≥–∞
                </button>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –õ—ñ–≤–∞ –∫–æ–ª–æ–Ω–∫–∞ - —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ -->
            <div class="column">
                <section class="card">
                    <div class="card-header">
                        <i class="fas fa-plus-circle"></i>
                        <h2>–î–æ–¥–∞—Ç–∏ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç</h2>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label for="ingredientName">
                                <i class="fas fa-tag"></i> –ù–∞–∑–≤–∞ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∞
                            </label>
                            <input type="text" id="ingredientName" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ë–æ—Ä–æ—à–Ω–æ –ø—à–µ–Ω–∏—á–Ω–µ">
                        </div>
                        
                        <div class="form-group">
                            <label for="ingredientCategory">
                                <i class="fas fa-folder"></i> –ö–∞—Ç–µ–≥–æ—Ä—ñ—è
                            </label>
                            <select id="ingredientCategory">
                                <option value="–±–æ—Ä–æ—à–Ω–æ">–ë–æ—Ä–æ—à–Ω–æ</option>
                                <option value="—Ü—É–∫–æ—Ä">–¶—É–∫–æ—Ä</option>
                                <option value="–∂–∏—Ä–∏">–ñ–∏—Ä–∏</option>
                                <option value="—è–π—Ü—è">–Ø–π—Ü—è</option>
                                <option value="–º–æ–ª–æ—á–Ω—ñ">–ú–æ–ª–æ—á–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏</option>
                                <option value="—Ñ—Ä—É–∫—Ç–∏">–§—Ä—É–∫—Ç–∏/–Ø–≥–æ–¥–∏</option>
                                <option value="–≥–æ—Ä—ñ—Ö–∏">–ì–æ—Ä—ñ—Ö–∏</option>
                                <option value="—Å–ø–µ—Ü—ñ—ó">–°–ø–µ—Ü—ñ—ó</option>
                                <option value="—ñ–Ω—à–µ">–Ü–Ω—à–µ</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="ingredientPrice">
                                <i class="fas fa-money-bill-wave"></i> –¶—ñ–Ω–∞ –∑–∞ –∫—ñ–ª–æ–≥—Ä–∞–º (–≥—Ä–Ω)
                            </label>
                            <input type="number" id="ingredientPrice" step="0.01" min="0" placeholder="0.00">
                        </div>
                        
                        <button class="btn-primary" onclick="addIngredient()">
                            <i class="fas fa-save"></i> –ó–±–µ—Ä–µ–≥—Ç–∏ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç
                        </button>
                    </div>
                </section>

                <section class="card">
                    <div class="card-header">
                        <i class="fas fa-list"></i>
                        <h2>–ú–æ—ó —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏</h2>
                        <div class="card-actions">
                            <button class="btn-icon" onclick="refreshIngredients()" title="–û–Ω–æ–≤–∏—Ç–∏">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button class="btn-icon" onclick="exportToCSV()" title="–ï–∫—Å–ø–æ—Ä—Ç —É CSV">
                                <i class="fas fa-file-export"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="filter-controls">
                            <input type="text" id="searchIngredient" placeholder="–ü–æ—à—É–∫ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∞..." 
                                   onkeyup="filterIngredients()">
                            <select id="filterCategory" onchange="filterIngredients()">
                                <option value="">–í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
                            </select>
                        </div>
                        
                        <div class="table-container">
                            <table id="ingredientsTable">
                                <thead>
                                    <tr>
                                        <th>–ù–∞–∑–≤–∞</th>
                                        <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                                        <th>–¶—ñ–Ω–∞ –∑–∞ –∫–≥</th>
                                        <th>–î—ñ—ó</th>
                                    </tr>
                                </thead>
                                <tbody id="ingredientsList">
                                    <!-- –¢—É—Ç –±—É–¥—É—Ç—å —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="stats">
                            <div class="stat-item">
                                <i class="fas fa-cube"></i>
                                <span id="totalIngredients">0</span> —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-coins"></i>
                                –°–µ—Ä–µ–¥–Ω—è —Ü—ñ–Ω–∞: <span id="avgPrice">0.00</span> –≥—Ä–Ω/–∫–≥
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- –ü—Ä–∞–≤–∞ –∫–æ–ª–æ–Ω–∫–∞ - —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ -->
            <div class="column">
                <section class="card">
                    <div class="card-header">
                        <i class="fas fa-calculator"></i>
                        <h2>–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ä–µ—Ü–µ–ø—Ç—É</h2>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="recipeIngredient">
                                    <i class="fas fa-utensils"></i> –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç
                                </label>
                                <select id="recipeIngredient" onchange="updateIngredientInfo()">
                                    <option value="">–û–±–µ—Ä—ñ—Ç—å —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç...</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="recipeGrams">
                                    <i class="fas fa-weight"></i> –ö—ñ–ª—å–∫—ñ—Å—Ç—å (–≥—Ä–∞–º–∏)
                                </label>
                                <input type="number" id="recipeGrams" step="1" min="0" placeholder="0">
                            </div>
                            
                            <button class="btn-success" onclick="addToRecipe()">
                                <i class="fas fa-plus"></i> –î–æ–¥–∞—Ç–∏
                            </button>
                        </div>
                        
                        <div class="ingredient-info" id="ingredientInfo">
                            <div class="info-item">
                                <span>–¶—ñ–Ω–∞ –∑–∞ –≥—Ä–∞–º:</span>
                                <strong id="pricePerGram">0.0000</strong> –≥—Ä–Ω
                            </div>
                            <div class="info-item">
                                <span>–í–∞—Ä—Ç—ñ—Å—Ç—å 100–≥:</span>
                                <strong id="pricePer100g">0.00</strong> –≥—Ä–Ω
                            </div>
                        </div>
                    </div>
                </section>

                <section class="card">
                    <div class="card-header">
                        <i class="fas fa-clipboard-list"></i>
                        <h2>–†–µ—Ü–µ–ø—Ç</h2>
                        <div class="card-actions">
                            <button class="btn-icon" onclick="clearRecipe()" title="–û—á–∏—Å—Ç–∏—Ç–∏">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                            <button class="btn-icon" onclick="saveRecipe()" title="–ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ—Ü–µ–ø—Ç">
                                <i class="fas fa-bookmark"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-container">
                            <table id="recipeTable">
                                <thead>
                                    <tr>
                                        <th>–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç</th>
                                        <th>–ö—ñ–ª—å–∫—ñ—Å—Ç—å</th>
                                        <th>–í–∞—Ä—Ç—ñ—Å—Ç—å</th>
                                        <th>–î—ñ—ó</th>
                                    </tr>
                                </thead>
                                <tbody id="recipeList">
                                    <!-- –¢—É—Ç –±—É–¥–µ —Ä–µ—Ü–µ–ø—Ç -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="recipe-actions">
                            <button class="btn-warning" onclick="calculateRecipe()">
                                <i class="fas fa-calculator"></i> –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –≤–∞—Ä—Ç—ñ—Å—Ç—å
                            </button>
                        </div>
                    </div>
                </section>

                <section class="card results-card">
                    <div class="card-header">
                        <i class="fas fa-chart-bar"></i>
                        <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É</h2>
                    </div>
                    <div class="card-body">
                        <div class="results-grid">
                            <div class="result-item total-cost">
                                <div class="result-label">
                                    <i class="fas fa-money-bill-wave"></i>
                                    –ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å
                                </div>
                                <div class="result-value" id="totalCost">0.00 –≥—Ä–Ω</div>
                            </div>
                            
                            <div class="result-item">
                                <div class="result-label">
                                    <i class="fas fa-weight"></i>
                                    –ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞–≥–∞
                                </div>
                                <div class="result-value" id="totalWeight">0 –≥</div>
                            </div>
                            
                            <div class="result-item">
                                <div class="result-label">
                                    <i class="fas fa-percentage"></i>
                                    –í–∞—Ä—Ç—ñ—Å—Ç—å 100–≥
                                </div>
                                <div class="result-value" id="costPer100g">0.00 –≥—Ä–Ω</div>
                            </div>
                            
                            <div class="result-item">
                                <div class="result-label">
                                    <i class="fas fa-balance-scale"></i>
                                    –í–∞—Ä—Ç—ñ—Å—Ç—å 1–∫–≥
                                </div>
                                <div class="result-value" id="costPerKg">0.00 –≥—Ä–Ω</div>
                            </div>
                        </div>
                        
                        <div class="recipe-summary">
                            <h3><i class="fas fa-info-circle"></i> –î–µ—Ç–∞–ª—å–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫:</h3>
                            <div id="detailedResults"></div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- –ù–∏–∂–Ω—ñ–π –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-left">
                    <p><i class="fas fa-copyright"></i> 2024 –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–æ–±—ñ–≤–∞—Ä—Ç–æ—Å—Ç—ñ –≤–∏–ø—ñ—á–∫–∏</p>
                </div>
                <div class="footer-right">
                    <button class="btn-secondary" onclick="showBackup()">
                        <i class="fas fa-database"></i> –†–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è
                    </button>
                    <button class="btn-secondary" onclick="showStats()">
                        <i class="fas fa-chart-pie"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞ -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-question-circle"></i> –î–æ–ø–æ–º–æ–≥–∞</h2>
                <button class="modal-close" onclick="closeModal('helpModal')">&times;</button>
            </div>
            <div class="modal-body">
                <h3>–Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º:</h3>
                <ol>
                    <li><strong>–î–æ–¥–∞–π—Ç–µ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏</strong> - –≤–∫–∞–∂—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞ —Ü—ñ–Ω—É –∑–∞ –∫—ñ–ª–æ–≥—Ä–∞–º</li>
                    <li><strong>–°—Ç–≤–æ—Ä—ñ—Ç—å —Ä–µ—Ü–µ–ø—Ç</strong> - –æ–±–∏—Ä–∞–π—Ç–µ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ —Ç–∞ –≤–∫–∞–∑—É–π—Ç–µ –≥—Ä–∞–º–∏</li>
                    <li><strong>–†–æ–∑—Ä–∞—Ö—É–π—Ç–µ –≤–∞—Ä—Ç—ñ—Å—Ç—å</strong> - –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –≤–∞—Ä—Ç—ñ—Å—Ç—å"</li>
                    <li><strong>–ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ —Ä–µ—Ü–µ–ø—Ç–∏</strong> - –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</li>
                </ol>
                
                <h3>–ü–æ—Ä–∞–¥–∏:</h3>
                <ul>
                    <li>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –¥–ª—è –∫—Ä–∞—â–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó</li>
                    <li>–ï–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ –¥–∞–Ω—ñ —É CSV –¥–ª—è –∑–≤—ñ—Ç—ñ–≤</li>
                    <li>–†–æ–±—ñ—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó –¥–∞–Ω–∏—Ö</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>